{% extends 'base.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    <style type="text/css">
        body {
        }
        table{
            width: 500px;
            margin-left: 50px;
        }
        td{
            border-bottom: 1px solid grey;
            padding:5px;
        }
        #new{
            margin-left: 50px;
            margin-bottom: 50px;
        }
        .bg-dark{
            color:white;
        }

    </style>
{% endblock %}
{% block body %}
    {% if is_granted("ROLE_ADMIN") %}
        <div id="new">
            <h1>Posts Administration</h1>
            <a class="btn btn-success" href="{{ path('new_post')}}">Nuevo Post</a>
        </div>

        <table>
            <tr class="bg-dark">
                <td>Titulo del post<td>
                <td></td>
                <td></td>
            </tr>
            {% for post in posts %}
                <tr>
                    <td> {{ post.title }}<td>
                    <td><a class="btn btn-secondary" href="{{ path('app_post_edit',{'id':post.id} )}}">Edit</a></td>
                    <td><a class="btn btn-danger" href="{{ path('app_post_delete',{'id':post.id} )}}" onclick="return confirm('Â¿Esta seguro que desea eliminar este post?')">X</a></td>
                </tr>
            {% endfor %}
        </table>
    {% endif %}
{% endblock %}
